{"kind":"anchor","path":"README.md","range":{"start":145,"end":149},"excerpt":"\n这里是第一章的背景设定。\n","confidence":"high","source_mode":"anchor","meta":{"hash":"040d33e41134c213","truncated":false}}
{"kind":"anchor","path":"docs/engineering-blueprint.md","range":{"start":162,"end":166},"excerpt":"\n...\n","confidence":"high","source_mode":"anchor","meta":{"hash":"60f36ec031e261a9","truncated":false}}
{"kind":"anchor","path":"docs/requirements.md","range":{"start":76,"end":80},"excerpt":"\n...\n","confidence":"high","source_mode":"anchor","meta":{"hash":"60f36ec031e261a9","truncated":false}}
{"kind":"anchor","path":"src/anchors/api.rs","range":{"start":225,"end":225},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/api.rs","range":{"start":235,"end":235},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/api.rs","range":{"start":245,"end":245},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/api.rs","range":{"start":255,"end":255},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/api.rs","range":{"start":265,"end":265},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":300,"end":302},"excerpt":"content","confidence":"high","source_mode":"anchor","meta":{"hash":"55f2b31a6acfaa64","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":312,"end":314},"excerpt":"content","confidence":"high","source_mode":"anchor","meta":{"hash":"55f2b31a6acfaa64","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":323,"end":335},"excerpt":"content\n\"#;\n        let issues = check_pairing(content, \"test.md\");\n        assert_eq!(issues.len(), 1);\n        assert_eq!(issues[0].code, \"UNPAIRED_BEGIN\");\n    }\n\n    #[test]\n    fn test_check_pairing_unpaired_end() {\n        let content = r#\"\ncontent","confidence":"high","source_mode":"anchor","meta":{"hash":"4c2b98e7986ab97c","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":450,"end":456},"excerpt":"outer content\n<!--Q:begin id=inner-->\ninner content\n<!--Q:end id=inner-->\nmore outer content","confidence":"high","source_mode":"anchor","meta":{"hash":"b872479ef393d64f","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":452,"end":454},"excerpt":"inner content","confidence":"high","source_mode":"anchor","meta":{"hash":"7aa90fcd30fd559f","truncated":false}}
{"kind":"anchor","path":"src/anchors/lint.rs","range":{"start":466,"end":479},"excerpt":"content\n\"#;\n        let issues = check_pairing(content, \"test.md\");\n        assert_eq!(issues.len(), 2);\n        assert!(issues.iter().all(|i| i.code == \"UNPAIRED_BEGIN\"));\n    }\n\n    #[test]\n    fn test_check_pairing_mismatched_ids() {\n        let content = r#\"\n<!--Q:begin id=test1-->\ncontent","confidence":"high","source_mode":"anchor","meta":{"hash":"a1649e8305deead4","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":4,"end":6},"excerpt":"//! ...content...","confidence":"high","source_mode":"anchor","meta":{"hash":"8e05672de25e7122","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":512,"end":515},"excerpt":"\n        let end = generate_end_marker(\"test\");","confidence":"high","source_mode":"anchor","meta":{"hash":"1bb443c67c126ff6","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":540,"end":544},"excerpt":"        assert_eq!(lines[2], \"line 2\");\n        assert_eq!(lines[3], \"line 3\");\n        assert_eq!(lines[4], \"line 4\");","confidence":"high","source_mode":"anchor","meta":{"hash":"a62991374e16224a","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":563,"end":566},"excerpt":"        assert_eq!(lines[1], \"line 1\");\n        assert_eq!(lines[2], \"line 2\");","confidence":"high","source_mode":"anchor","meta":{"hash":"af9eb884e035a39d","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":587,"end":589},"excerpt":"        assert_eq!(lines[3], \"line 3\");","confidence":"high","source_mode":"anchor","meta":{"hash":"b9f1a1b8a8d8edd6","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":609,"end":609},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":741,"end":741},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":836,"end":837},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1112,"end":1112},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1122,"end":1122},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1139,"end":1139},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1275,"end":1275},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1295,"end":1295},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1387,"end":1387},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mark.rs","range":{"start":1397,"end":1397},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/mod.rs","range":{"start":4,"end":4},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":4,"end":6},"excerpt":"//! ...content...","confidence":"high","source_mode":"anchor","meta":{"hash":"8e05672de25e7122","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":18,"end":25},"excerpt":"pub static BEGIN_RE: Lazy<Regex> = Lazy::new(|| {\n    Regex::new(r#\"<!--\\s*Q:begin\\s+id=([^\\s]+)(?:\\s+tags=([^\\s]+))?(?:\\s+v=(\\d+))?\\s*-->\"#)\n        .expect(\"Invalid BEGIN_RE regex\")\n});\n\n/// Static regex for parsing anchor end markers","confidence":"high","source_mode":"anchor","meta":{"hash":"eb76f123ce571930","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":199,"end":202},"excerpt":"This is the content\nof the anchor","confidence":"high","source_mode":"anchor","meta":{"hash":"832342c14f0dbb9c","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":216,"end":222},"excerpt":"Outer start\n<!--Q:begin id=inner tags=child v=1-->\nInner content\n<!--Q:end id=inner-->\nOuter end","confidence":"high","source_mode":"anchor","meta":{"hash":"2acec153c1d52617","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":218,"end":220},"excerpt":"Inner content","confidence":"high","source_mode":"anchor","meta":{"hash":"d2dd7edc409697a6","truncated":false}}
{"kind":"anchor","path":"src/anchors/parse.rs","range":{"start":231,"end":233},"excerpt":"Content without tags","confidence":"high","source_mode":"anchor","meta":{"hash":"e6d000969af65355","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":148,"end":148},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":158,"end":158},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":171,"end":171},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":194,"end":196},"excerpt":"A","confidence":"high","source_mode":"anchor","meta":{"hash":"d0d496e05c553485","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":197,"end":199},"excerpt":"B","confidence":"high","source_mode":"anchor","meta":{"hash":"74d3766ca02423f3","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":200,"end":202},"excerpt":"C","confidence":"high","source_mode":"anchor","meta":{"hash":"616e98f5aa1c80c0","truncated":false}}
{"kind":"anchor","path":"src/cache/reader.rs","range":{"start":215,"end":215},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/cli.rs","range":{"start":225,"end":227},"excerpt":"  ...content...\\n\\","confidence":"high","source_mode":"anchor","meta":{"hash":"1ef915660498935a","truncated":false}}
{"kind":"anchor","path":"src/cli.rs","range":{"start":580,"end":582},"excerpt":"  ...content...\\n\\","confidence":"high","source_mode":"anchor","meta":{"hash":"1ef915660498935a","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":559,"end":561},"excerpt":"This is some test content with keywords like function and implementation.","confidence":"high","source_mode":"anchor","meta":{"hash":"03cd7ee64bfaa46a","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":626,"end":628},"excerpt":"Test content with function and implementation keywords.","confidence":"high","source_mode":"anchor","meta":{"hash":"d69a163b26205d0e","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":649,"end":651},"excerpt":"Primary content with keywords like algorithm and structure.","confidence":"high","source_mode":"anchor","meta":{"hash":"ad7a20749723ba40","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":653,"end":655},"excerpt":"Related content sharing the shared tag.","confidence":"high","source_mode":"anchor","meta":{"hash":"b51ee99f243095a2","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":678,"end":680},"excerpt":"Content for testing max_items limit with multiple keywords and matching.","confidence":"high","source_mode":"anchor","meta":{"hash":"da0add1166e365ef","truncated":false}}
{"kind":"anchor","path":"src/flows/writing.rs","range":{"start":714,"end":716},"excerpt":"Content without any tags for testing.","confidence":"high","source_mode":"anchor","meta":{"hash":"a287d68bdf915aa8","truncated":false}}
{"kind":"anchor","path":"src/mcp/tools.rs","range":{"start":245,"end":245},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"src/mcp/tools.rs","range":{"start":371,"end":371},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":83,"end":83},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":625,"end":627},"excerpt":"Introduction section.","confidence":"high","source_mode":"anchor","meta":{"hash":"4210227fdffab67c","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":830,"end":832},"excerpt":"Introduction section.","confidence":"high","source_mode":"anchor","meta":{"hash":"4210227fdffab67c","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":857,"end":859},"excerpt":"Content","confidence":"high","source_mode":"anchor","meta":{"hash":"26298499e77d870c","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":884,"end":886},"excerpt":"Test","confidence":"high","source_mode":"anchor","meta":{"hash":"b3f5bb77a55fad5e","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":913,"end":915},"excerpt":"Chapter 1","confidence":"high","source_mode":"anchor","meta":{"hash":"7247722d5b4ce02c","truncated":false}}
{"kind":"anchor","path":"tests/cli.rs","range":{"start":917,"end":919},"excerpt":"A note","confidence":"high","source_mode":"anchor","meta":{"hash":"c3a88f7b9728981c","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/README.md","range":{"start":5,"end":12},"excerpt":"\n## Introduction\n\nThis project demonstrates the anchor system and various mise features.\nIt includes sample code and documentation with embedded anchors.\n","confidence":"high","source_mode":"anchor","meta":{"hash":"8966618f59c5f363","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/README.md","range":{"start":16,"end":21},"excerpt":"\n- File scanning\n- Anchor management\n- Code search integration","confidence":"high","source_mode":"anchor","meta":{"hash":"558c222f210cfbe6","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/docs/guide.md","range":{"start":1,"end":16},"excerpt":"\n# Chapter 1: Background\n\nThis chapter provides background information for the project.\n\n## History\n\nThe project started as a simple tool and evolved over time.\n\n## Goals\n\n- Unified output format\n- Integration with existing tools\n- Easy to extend","confidence":"high","source_mode":"anchor","meta":{"hash":"97b147ade0393d25","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/docs/guide.md","range":{"start":18,"end":31},"excerpt":"\n# Chapter 2: Implementation\n\nThis chapter covers the implementation details.\n\n## Architecture\n\nThe project uses a modular architecture with:\n\n- Core module for data models\n- Backend modules for integrations\n- Flow modules for complex operations","confidence":"high","source_mode":"anchor","meta":{"hash":"18f92769a0e9badb","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/src/main.rs","range":{"start":3,"end":5},"excerpt":"//! This is the main entry point for the sample project.","confidence":"high","source_mode":"anchor","meta":{"hash":"1de6f63d37390295","truncated":false}}
{"kind":"anchor","path":"tests/fixtures/sample_project/src/main.rs","range":{"start":11,"end":15},"excerpt":"fn helper_function() -> i32 {\n    42\n}","confidence":"high","source_mode":"anchor","meta":{"hash":"484df1e9cda6e37b","truncated":false}}
{"kind":"anchor","path":"tests/samples/anchors_invalid/duplicate_1.md","range":{"start":1,"end":5},"excerpt":"\nduplicate one\n","confidence":"high","source_mode":"anchor","meta":{"hash":"e0c5e6ef4e0301be","truncated":false}}
{"kind":"anchor","path":"tests/samples/anchors_invalid/duplicate_2.md","range":{"start":1,"end":5},"excerpt":"\nduplicate two\n","confidence":"high","source_mode":"anchor","meta":{"hash":"7639ee323114129d","truncated":false}}
{"kind":"anchor","path":"tests/samples/anchors_invalid/empty_anchor.md","range":{"start":1,"end":2},"confidence":"high","source_mode":"anchor","meta":{"hash":"","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/README.md","range":{"start":3,"end":11},"excerpt":"\nAlpha 项目用于验证 mise 的 scan/find/extract/match/anchor/flow 等命令。\n\n关键字：refactorability, deterministic, traceability。\n\n- 这个 anchor 会被 `mise flow writing --anchor alpha.intro` 作为主证据。\n- 共享 tag `intro` 的其它 anchors 会被当作 neighbor/related。","confidence":"high","source_mode":"anchor","meta":{"hash":"53c280b95726648e","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/README.md","range":{"start":13,"end":17},"excerpt":"\nAPI 约定：所有输出应可机器解析（jsonl/json），并且 path 相对 root。\n","confidence":"high","source_mode":"anchor","meta":{"hash":"b1106eb464eeb89b","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/docs/design.md","range":{"start":3,"end":9},"excerpt":"\n目标：让上下文准备过程可追溯（traceability）、可重复（deterministic）。\n\nTODO: 在未来加入更多 lint 规则。\n","confidence":"high","source_mode":"anchor","meta":{"hash":"a6f77e53b42e4804","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/docs/nested.md","range":{"start":3,"end":15},"excerpt":"\nouter start\n\n<!--Q:begin id=alpha.inner tags=chapter,child,intro v=1-->\n\ninner content mentions deterministic and traceability.\n\n<!--Q:end id=alpha.inner-->\n\nouter end\n","confidence":"high","source_mode":"anchor","meta":{"hash":"15ad3331c414dd23","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/docs/nested.md","range":{"start":7,"end":11},"excerpt":"\ninner content mentions deterministic and traceability.\n","confidence":"high","source_mode":"anchor","meta":{"hash":"9e6cf46b401327a2","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/docs/notes/meeting.md","range":{"start":3,"end":7},"excerpt":"\n讨论点：deterministic 输出顺序、错误码稳定性、以及报告结构。\n","confidence":"high","source_mode":"anchor","meta":{"hash":"a75cbd7468224c3a","truncated":false}}
{"kind":"anchor","path":"tests/samples/sample_project_alpha/docs/中文 空格.md","range":{"start":3,"end":8},"excerpt":"\n用于验证包含空格/中文路径的 scan/find/extract。\n关键字：internationalization.\n","confidence":"high","source_mode":"anchor","meta":{"hash":"9d2571ef6eebfbab","truncated":false}}
